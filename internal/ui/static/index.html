        async function restoreBackup(clientName, fileName) {
            if (!confirm(`Are you sure you want to restore '${fileName}' for ${clientName}? Current configuration will be overwritten.`)) {
                return;
            }

            try {
                const res = await fetch('/api/restore', {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({client: clientName, file: fileName})
                });

                const data = await res.json();
                if (res.ok) {
                    showToast(data.message, 'success');
                } else {
                    showToast("Failed: " + data.message, 'error');
                }
            } catch (e) {
                showToast("Error: " + e, 'error');
            }
        }

        function openImportModal() {
            document.getElementById('importModal').setAttribute('open', 'true');
        }

        function closeImportModal() {
            document.getElementById('importModal').removeAttribute('open');
            document.getElementById('importJSON').value = '';
        }

        async function pasteFromClipboard() {
            try {
                const text = await navigator.clipboard.readText();
                document.getElementById('importJSON').value = text;
                showToast("Pasted from clipboard!", 'success');
            } catch (err) {
                showToast("Failed to read clipboard: " + err, 'error');
            }
        }

        async function importConfig() {
